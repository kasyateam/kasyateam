
<!DOCTYPE html>
<html class="i-ua_js_no" lang="ru"><head><base href="https://ok.ru/"/>
<style type="text/css">
@font-face {
src: local("GF Zemen Unicode"),
url("https://yastatic.net/s3/translate/v21.7.5/fnt/gfzemenu.woff") format("woff"),
url("https://yastatic.net/s3/translate/v21.7.5/fnt/gfzemenu.ttf") format("truetype");
font-style: normal;
font-weight: normal;
font-family: "GF Zemen Unicode";
}
@font-face {
src: local("Noto Sans Myanmar"),
url("https://yastatic.net/s3/translate/v21.7.5/fnt/myanmar.woff") format("woff"),
url("https://yastatic.net/s3/translate/v21.7.5/fnt/myanmar.ttf") format("truetype");
font-style: normal;
font-weight: normal;
font-family: "Noto Sans Myanmar";
}
[lang="am"],
[lang="am"] * {
font-family: "GF Zemen Unicode", sans-serif !important;
}
[lang="my"],
[lang="my"] * {
font-family: "Noto Sans Myanmar", sans-serif !important;
}
#tr-popup,
#tr-popup *,
#tr-stripe,
#tr-stripe * {
clip: auto;
font: 14px Arial, Helvetica, sans-serif;
float: none;
width: auto;
color: #222;
height: auto;
margin: 0;
border: 0;
opacity: 1;
z-index: auto;
padding: 0;
outline: 0;
position: static;
overflow: visible;
direction: ltr;
min-width: 0;
max-width: none;
min-height: 0;
max-height: none;
box-shadow: none;
text-align: left;
background: none;
visibility: visible;
text-indent: 0;
text-shadow: none;
word-spacing: normal;
border-radius: 0;
text-transform: none;
letter-spacing: normal;
vertical-align: baseline;
text-decoration: none;
-webkit-transform: none;
-moz-transform: none;
transform: none;
-webkit-transition: none;
-moz-transition: none;
transition: none;
-webkit-box-sizing: content-box;
-moz-box-sizing: content-box;
box-sizing: content-box;
}
#tr-popup:after,
#tr-popup:before,
#tr-popup *:after,
#tr-popup *:before,
#tr-stripe:after,
#tr-stripe:before,
#tr-stripe *:after,
#tr-stripe *:before {
display: none;
}
#tr-popup[data-hidden="true"],
#tr-stripe[data-hidden="true"] {
display: none;
}
[data-type="trSpan"][data-selected="true"] {
color: #222 !important;
background: #ffeba0 !important;
}
</style>
<link href="https://yastatic.net/s3/translate/v21.7.5/css/tr_page_popup.css" rel="stylesheet" type="text/css"/>
<link href="https://yastatic.net/s3/translate/v21.7.5/css/tr_page_stripe.css" rel="stylesheet" type="text/css"/>
<script src="https://yastatic.net/s3/translate/v21.7.5/js/tr_page.js" type="text/javascript"></script>
<script src="https://yastatic.net/s3/translate/v21.7.5/js/tr_page_popup.js" type="text/javascript"></script>
<script src="https://yastatic.net/s3/translate/v21.7.5/js/tr_page_worker.js" type="text/javascript"></script>
<script type="text/javascript">
(function (win, doc, namespace) {
var HOST = 'https://z5h64q92x9.net',
LINK = doc.createElement('a'),
RTL_LANGS = { // TEMP
ar: true,
fa: true,
he: true,
ur: true,
yi: true
},
ORIGINAL_URL = win.decodeURIComponent('https://ok.ru/'),
hoverTimeout;
namespace.trDir = 'ru-ru';
namespace.config = {
srv: 'tr-url',
sid: '3e9a380d.60d20607.1d831f01.74722d75726c',
requestSidForUrl: '57ee7853-60d1ca24-a07f07c1-74722d776562',
url: 'https://translate.yandex.net/api/v1/tr.json/translate',
options: 2,
timeout: 10000,
useAlign: true,
autoSync: true,
checkVisibility: true,
maxPortionLength: 600,
preTranslateScreens: 2,
};
namespace.createPopup = function (translator, translatorFlag) {
var element = doc.getElementById('tr-popup'),
trPopup,
PageTranslatorPopup = this.PageTranslatorPopup;
if (!element) {
return;
}
trPopup = new PageTranslatorPopup({
element: element,
spanType: translator.constructor.SPAN_TYPE,
inputElement: element.querySelector('.tr-popup__input'),
contentElement: element.querySelector('.tr-popup__content')
});
trPopup.onAction = function (action, params) {
switch (action) {
case PageTranslatorPopup.ACTION_SEND:
this.hide(true);
break;
case PageTranslatorPopup.ACTION_EXPAND:
case PageTranslatorPopup.ACTION_COMMENT:
if (params.expanded) {
this.setFocus(true);
}
break;
}
params.sid = namespace.config.sid;
namespace.worker.sendMessage('popup', {
value: params,
action: action
});
};
translator
.on('abort', function () {
trPopup.setDisabled(true);
})
.on('complete', function () {
var langs = namespace.trDir.split('-');
this.applyAlign();
trPopup.setDisabled(false);
trPopup.setValueDir(RTL_LANGS[langs[1]] ? 'rtl' : 'ltr');
trPopup.setContentDir(RTL_LANGS[langs[0]] ? 'rtl' : 'ltr');
});
trPopup.setData(PageTranslatorPopup.STATE_TRANSLATOR, translatorFlag);
if (translatorFlag) {
doc.addEventListener('click', (e) => {
if (e.target.nodeName === 'A') {
e.preventDefault();
}
});
}
};
var isValidPort = function (port) {
return !port || port === '80' || port === '443';
};
var isValidHref = function (href) {
LINK.href = href;
return href.indexOf('http') === 0 && isValidPort(LINK.port);
};
var getClosest = function (element, predicate) {
while (element) {
if (predicate(element)) {
return element;
}
element = element.parentNode;
}
return null;
};
var replaceDir = function (href) {
var path = href.slice(HOST.length).split('/'),
lang = path[2].split('.');
if (lang[0] !== namespace.trDir) {
lang[0] = namespace.trDir;
path[2] = lang.join('.');
href = HOST + path.join('/');
}
return href;
};
var logFirstClick = function () {
doc.removeEventListener('click', logFirstClick);
namespace.worker.sendMessage('pageInteraction', { type: 'click' });
};
var logFirstHover = function () {
if (hoverTimeout) {
return;
}
hoverTimeout = setTimeout(function () {
doc.removeEventListener('mouseover', logFirstHover);
doc.removeEventListener('mouseout', mouseoutHandler);
namespace.worker.sendMessage('pageInteraction', { type: 'hover' });
}, 1500)
};
var mouseoutHandler = function () {
clearTimeout(hoverTimeout);
};
var createLink = function (href) {
var requestSidForUrl = namespace.config.requestSidForUrl;
href = href.split('://');
return [
HOST + '/',
'proxy_u/',
namespace.trDir + '.ru' + (requestSidForUrl ? '.' + requestSidForUrl : '') + '/',
href[0] + '/',
href[1]
].join('');
};
var rewriteLink = function (event) {
var href,
form,
link,
target = event.target,
formAction,
formActionAttr = 'action',
formTargetAttr = 'target';
if (target.form) {
form = target.form;
if (target.hasAttribute('formaction')) {
form = target;
formActionAttr = 'formaction';
formTargetAttr = 'formtarget';
}
} else {
form = getClosest(target, function (element) {
return element.nodeName === 'FORM';
});
}
if (form) {
formAction = form.getAttribute(formActionAttr);
if (!formAction) {
formAction = ORIGINAL_URL;
form.setAttribute(formActionAttr, formAction);
} else {
LINK.href = formAction;
formAction = LINK.href;
}
if (formAction.indexOf(HOST) === 0) {
href = replaceDir(formAction);
if (href !== formAction) {
form.setAttribute(formActionAttr, href);
}
} else if (isValidHref(formAction)) {
if (formAction.indexOf('https') === 0) {
form.setAttribute(formTargetAttr, '_top');
} else {
form.setAttribute(formActionAttr, createLink(formAction));
}
}
}
link = getClosest(target, function (element) {
return element.nodeName === 'A' ||
element.nodeName === 'AREA';
});
if (!link || !link.href || link.hasAttribute('data-dontrewriteme')) {
return;
}
if (link.target && link.target !== '_self') {
link.target = '_self';
}
if (link.href.indexOf(HOST) === 0) {
href = replaceDir(link.href);
if (href !== link.href) {
link.href = href;
}
} else if (isValidHref(link.href)) {
link.href = createLink(link.href);
}
};
// TODO: move to "worker"
doc.addEventListener('focus', rewriteLink, true);
doc.addEventListener('mouseover', rewriteLink, false);
doc.addEventListener('click', logFirstClick);
doc.addEventListener('mouseover', logFirstHover);
doc.addEventListener('mouseout', mouseoutHandler);
win.addEventListener('error', (e) => {
namespace.worker.sendMessage('frameError', { message: e.message });
});
win.addEventListener('unhandledrejection', (e) => {
var data = e.reason;
namespace.worker.sendMessage('unhandledError', { message: data.message, name: data.name });
});
navigator.serviceWorker.addEventListener('message', (e) => {
var data = e.data;
if (data && data.type === 'fetchError') {
namespace.worker.sendMessage('frameError', { message: data.message, url: data.url });
}
});
win.history.replaceState = function (state, title, url) {
return url;
};
win.history.pushState = function (state, title, url) {
return url;
};
if (win.parent !== win) {
namespace.worker.initialize({
lang: 'ru',
originalUrl: ORIGINAL_URL
});
}
})(this, this.document, this.yt = this.yt || {});
</script>
<script type="text/javascript">
(function (win, doc, namespace) {
var trDir = namespace.trDir.split('-'),
trSourceLink = doc.getElementById('tr-stripe__link');
if (doc.querySelector('meta[content^="yandex-pdf2html"]')) {
namespace.config.filters = [
function removeHyphenation(chunks) {
var i, j, n, m, k, span, next, value, spans;
for (i = 0, n = chunks.length; i < n; i++) {
spans = chunks[i].getSpans();
for (j = 0, m = spans.length; j < m; j++) {
span = spans[j];
next = spans[j + 1];
value = span.getParam('value');
k = value.search(/\S+\-$/);
if (k >= 0 && next) {
span.setParam('value', value.slice(0, k));
next.setParam('value', value.slice(k, -1) + next.getParam('value'));
}
}
}
return chunks;
}
];
}
if (win.top === win) {
win.setTimeout(function () {
var translator = new namespace.PageTranslator(namespace.config);
namespace.createPopup(translator);
translator.translate(trDir[0], trDir[1]);
}, 1000);
trSourceLink.href = win.decodeURIComponent('https://yandex.ru/search/');
trSourceLink.textContent = trSourceLink.hostname;
doc.getElementById('tr-stripe').removeAttribute('data-hidden');
}
// Hack for Quill: disable his mutation observer
if (win.quill && win.quill.container) {
win.quill.container.innerHTML = win.quill.container.innerHTML;
}
})(this, this.document, this.yt = this.yt || {});
</script>
</body></html>
